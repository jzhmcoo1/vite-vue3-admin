import{D as e}from"./dynamic-table.5f6c942d.js";import{I as a,j as t}from"./index.c524462d.js";import{g as n}from"./hero.351ff4b2.js";import{y as o,bz as l,cy as i,F as r,d as s,r as c,x as d,b as m,c as u,z as p,P as f,by as y,ad as b,h as g}from"./vendor.02104a40.js";import"./index.3831b623.js";const h=[{title:"头像",align:"center",width:100,hideInSearch:!0,dataIndex:"faceimg",bodyCell:({record:e})=>o(a,{src:e.faceimg,preview:{src:e.heroimg},key:e.faceimg},null)},{title:"英雄名称",align:"center",dataIndex:"cname"},{title:"英雄称号",align:"center",dataIndex:"title"},{title:"定位",align:"center",dataIndex:"occupation"},{title:"皮肤",align:"center",dataIndex:"skin_name",formItemProps:{component:"Select"},bodyCell:({record:e})=>{var a,t;return o(r,null,[null==(t=null==(a=e.skin_name)?void 0:a.split("|"))?void 0:t.map((e=>{return o(l,{color:"blue",key:e},"function"==typeof(a=e)||"[object Object]"===Object.prototype.toString.call(a)&&!i(a)?e:{default:()=>[e]});var a}))])}},{title:"操作",align:"center",width:120,dataIndex:"$action",actions:({record:e})=>[{label:"查看详情",onClick:()=>window.open(e.infourl)}]}],x=g(" 《王者荣耀》-- 根据JSON格式的数据进行导出 "),k=g(" 导出：默认头部 "),v=g(" 导出：自定义头部 "),j=s({setup(a){let l=[];const i=c();function r(){t({data:l,filename:"使用key作为默认头部.xlsx"})}function s(){t({data:l,header:{heroid:"ID",cname:"英雄名称",title:"英雄称号",occupation:"定位",skin_name:"皮肤"},filename:"自定义头部.xlsx",json2sheetOpts:{header:["cname","heroid"]}})}const g=e=>{},j=async e=>{var a;const{data:t}=await n(e);return l=t.list,null==(a=i.value)||a.getQueryFormRef().updateSchema([{field:"skin_name",componentProps:{options:[{label:"皮肤1",value:"aa"},{label:"皮肤2",value:"bb"}]}}]),t};return(a,t)=>{const n=d("a-button");return m(),u("div",null,[o(f(y),{message:"游戏介绍",type:"info","show-icon":""},{description:p((()=>[x])),_:1}),o(f(b),{title:"英雄列表mock数据",style:{"margin-top":"20px"}},{default:p((()=>[o(f(e),{ref_key:"dynamicTableRef",ref:i,size:"small",bordered:"","data-request":j,columns:f(h),rowKey:"heroid",onToggleAdvanced:g},{toolbar:p((()=>[o(n,{type:"primary",onClick:r},{default:p((()=>[k])),_:1}),o(n,{type:"primary",onClick:s},{default:p((()=>[v])),_:1})])),_:1},8,["columns"])])),_:1})])}}});export{j as default};
