!function(){var e=document.createElement("style");e.innerHTML=".context-menu{position:fixed;top:0;left:0;z-index:200;display:block;width:156px;margin:0;list-style:none;background-color:#151515;border:1px solid rgba(0,0,0,.08);border-radius:.25rem;box-shadow:0 2px 2px rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.1),0 1px 5px rgba(0,0,0,.06);background-clip:padding-box;user-select:none}.context-menu__item{margin:0!important}.context-menu li{display:inline-block;width:100%;height:42px!important;margin:0!important;line-height:42px!important}.context-menu li span{line-height:42px!important}.context-menu li>div{margin:0!important}.context-menu li:not(.ant-menu-item-disabled):hover{color:#c9d1d9;background-color:#f5f5f5}.context-menu .ant-divider,.context-menu__popup .ant-divider{margin:0}.context-menu__popup li{display:inline-block;width:100%;height:42px!important;margin:0!important;line-height:42px!important}.context-menu__popup li span{line-height:42px!important}.context-menu__popup li>div{margin:0!important}.context-menu__popup li:not(.ant-menu-item-disabled):hover{color:#c9d1d9;background-color:#f5f5f5}.context-menu .ant-menu-submenu-title,.context-menu .ant-menu-item{padding:0!important}\n",document.head.appendChild(e),System.register(["./dynamic-table-legacy.1d55156b.js","./hero-legacy.62c11b86.js","./index-legacy.f7bd82b9.js","./index-legacy.51df2eb2.js","./vendor-legacy.89403358.js","./useFormModal-legacy.e556ff3e.js"],(function(e){"use strict";var t,n,l,o,a,i,r,c,s,d,u,p,m,x,b,y,f,h,v,g,k,_,w,I,j,C,O,L,T,E,S,$,M;return{setters:[function(e){t=e.D},function(e){n=e.a},function(e){l=e.r,o=e.I,a=e.z},function(e){i=e.I,r=e.a,c=e.j},function(e){s=e.y,d=e.bz,u=e.cy,p=e.F,m=e.d,x=e.r,b=e.l,y=e.o,f=e.au,h=e.a,v=e.P,g=e.ac,k=e.aG,_=e.aW,w=e.aS,I=e.aH,j=e.N,C=e.x,O=e.b,L=e.c,T=e.z,E=e.by,S=e.ad,$=e.h},function(e){M=e.u}],execute:function(){const z=[{title:"头像",align:"center",width:100,hideInSearch:!0,dataIndex:"avatar",bodyCell:({record:e})=>s(i,{src:e.avatar,preview:{src:e.posters},key:e.avatar},null)},{title:"英雄名称",align:"center",dataIndex:"title"},{title:"英雄称号",align:"center",dataIndex:"name"},{title:"定位",align:"center",dataIndex:"roles",bodyCell:({record:e})=>{var t;return s(p,null,[null===(t=e.roles)||void 0===t?void 0:t.map((e=>{return s(d,{color:"blue",key:e},"function"==typeof(t=e)||"[object Object]"===Object.prototype.toString.call(t)&&!u(t)?e:{default:()=>[e]});var t}))])}},{title:"操作",align:"center",width:120,dataIndex:"$action",actions:({record:e})=>[{label:"查看详情",onClick:()=>l.push({name:"demos-table-lol-info",params:{id:e.heroId}})}]}];const P="context-menu",D={width:{type:Number,default:156},customEvent:{type:Object,default:null},styles:{type:Object},showIcon:{type:Boolean,default:!0},axis:{type:Object,default:()=>({x:0,y:0})},items:{type:Array,default:()=>[]}},N=e=>{const{item:t}=e;return s("span",{style:"display: inline-block; width: 100%; ",class:"px-4",onClick:e.handler.bind(null,t)},[e.showIcon&&t.icon&&s(o,{class:"mr-2",type:t.icon},null),s("span",null,[t.label])])};var q=m({name:"ContextMenu",props:D,setup(e){const t=x(null),n=x(!1),l=b((()=>{const{axis:t,items:n,styles:l,width:o}=e,{x:a,y:i}=t||{x:0,y:0},r=40*(n||[]).length,c=o,s=document.body;return{...l,position:"absolute",width:`${o}px`,left:`${(s.clientWidth<a+c?a-c:a)+1}px`,top:`${(s.clientHeight<i+r?i-r:i)+1}px`}}));function o(e,t){const{handler:l,disabled:o}=e;o||(n.value=!1,null==t||t.stopPropagation(),null==t||t.preventDefault(),null==l||l())}function a(t){return t.map((t=>{const{disabled:l,label:i,children:r,divider:c=!1}=t,d={item:t,handler:o,showIcon:e.showIcon};return r&&0!==r.length?v(n)?s(g.SubMenu,{key:i,disabled:l,popupClassName:"context-menu__popup"},{title:()=>s(N,d,null),default:()=>a(r)}):null:s(p,null,[s(g.Item,{disabled:l,class:"context-menu__item",key:i},{default:()=>[s(N,d,null)]}),c?s(k,{key:`d-${i}`},null):null])}))}return y((()=>{f((()=>n.value=!0))})),h((()=>{const e=v(t);e&&document.body.removeChild(e)})),()=>{let o;if(!v(n))return null;const{items:i}=e;return s("div",{class:P},[s(g,{inlineIndent:12,mode:"vertical",ref:t,style:v(l)},(r=o=a(i),"function"==typeof r||"[object Object]"===Object.prototype.toString.call(r)&&!u(r)?o:{default:()=>[o]}))]);var r}}});const A={domList:[],resolve:()=>{}},F=function(e){const{event:t}=e||{};if(t&&(null==t||t.preventDefault()),a)return new Promise((n=>{const l=document.body,o=document.createElement("div"),a={};e.styles&&(a.styles=e.styles),e.items&&(a.items=e.items),e.event&&(a.customEvent=t,a.axis={x:t.clientX,y:t.clientY});const i=s(q,a);_(i,o);const r=function(){A.resolve("")};A.domList.push(o);const c=function(){A.domList.forEach((e=>{try{e&&l.removeChild(e)}catch(t){}})),l.removeEventListener("click",r),l.removeEventListener("scroll",r)};A.resolve=function(e){c(),n(e)},c(),l.appendChild(o),l.addEventListener("click",r),l.addEventListener("scroll",r)}))},H=function(){A&&(A.resolve(""),A.domList=[])};function W(e=!0){return w()&&e&&h((()=>{H()})),[F,H]}const B=e=>[{field:"filename",component:"Input",label:e("component.excel.fileName"),rules:[{required:!0}]},{field:"bookType",component:"Select",label:e("component.excel.fileType"),defaultValue:"xlsx",rules:[{required:!0}],componentProps:{options:[{label:"xlsx",value:"xlsx",key:"xlsx"},{label:"html",value:"html",key:"html"},{label:"csv",value:"csv",key:"csv"},{label:"txt",value:"txt",key:"txt"}]}}],G=$(" 英雄联盟 -- 根据数组格式的数据进行导出 "),K=$("表格自带导出"),R=$(" 数组格式导出 "),V=$(" 自定义导出格式 ");e("default",m({name:"DemosTablesLolTable",setup(e){const l=j(),[o]=W(),a=(()=>{const{t:e}=I(),[t]=M();return{openModal:({onOk:n})=>{t({modalProps:{title:e("component.excel.exportModalTitle"),onFinish:async e=>{const{filename:t,bookType:l}=e;n({filename:`${t.split(".").shift()}.${l}`,bookType:l})}},formSchema:{labelWidth:100,layout:"vertical",schemas:B(e)}})}}})();let i=[];const d=()=>{const e=z.filter((e=>"$action"!==e.dataIndex)),t=e.map((e=>e.dataIndex));r({data:i.map((e=>t.reduce(((t,n)=>(t[n]=Array.isArray(e[n])?e[n].toString():e[n],t)),{}))).map((e=>Object.values(e))),header:e.map((e=>e.title)),filename:"二维数组方式导出excel.xlsx"})},u=()=>{a.openModal({onOk:({filename:e,bookType:t})=>{c({data:i,filename:e,write2excelOpts:{bookType:t}})}})},p=async e=>{const{data:t}=await n(e);return i=t.list,t},m=e=>({onContextmenu:t=>{o({event:t,items:[{label:"查看",handler:()=>{l.push({name:"demos-table-lol-info",params:{id:e.heroId}})}},{label:"编辑",handler:()=>{}}]})}});return(e,n)=>{const l=C("a-button");return O(),L("div",null,[s(v(E),{message:"游戏介绍",type:"info","show-icon":""},{description:T((()=>[G])),_:1}),s(v(S),{title:"英雄列表mock数据",style:{"margin-top":"20px"}},{default:T((()=>[s(v(t),{size:"small",bordered:"","data-request":p,columns:v(z),rowKey:"heroid","export-file-name":"表格自带导出",customRow:m},{"export-button":T((()=>[s(l,{type:"primary"},{default:T((()=>[K])),_:1})])),toolbar:T((()=>[s(l,{type:"primary",onClick:d},{default:T((()=>[R])),_:1}),s(l,{type:"primary",onClick:u},{default:T((()=>[V])),_:1})])),_:1},8,["columns"])])),_:1})])}}}))}}}))}();
